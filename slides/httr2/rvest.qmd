---
engine: knitr
title: Scrape data from web pages 
---

# Ô∏è‚úÖ Learning objectives

::: nonincremental
-   Decide whether to scrape data from a web page.
-   Scrape tables from web pages.
-   Scrape more complex data structures from web pages.
-   Scrape data from websites that require you to log in.
-   Scrape content that requires interaction.
-   Automate web scraping processes.
-   Scrape data as part of a workflow.
:::


# Should I scrape this data?

## Do I need to scrape this data?

-   Try {[datapasta](https://cran.r-project.org/package=datapasta)} üì¶
    -   RStudio Addins
-   If it's one time & over-complicated, consider other copy/paste strategies
-   Only scrape what you need
-   Look for an API!

::: notes
-   Even consider manual copy/paste one field at a time if it's not a TON of data.
-   More on looking for APIs in chapter 9
:::

## Can I legally scrape this data?

-   ‚úÖ Personal use or nonprofit education usually ok
-   ‚ö†Ô∏è Personally Identifiable Information (PII)
-   ‚ö†Ô∏è Legal disclaimers (but may be over-protective)
-   USA:
    -   Can't copyright facts,
    -   *CAN* copyright collections of facts in some cases (creative)
    -   [TidyTuesday 2023-08-29: Fair Use](https://tidytues.day/2023/2023-08-29)
-   Other places:
    -   Sometimes stricter ([EU](https://eur-lex.europa.eu/LexUriServ/LexUriServ.do?uri=CELEX:31996L0009:EN:HTML))
    -   Sometimes more lax

::: notes
-   If it's important, consult a lawyer.
-   This is why recipe blogs have stories about the recipes.
-   That TidyTuesday dataset exists because I was writing these notes.
-   EU provides more protections for database creators
:::

## Should I scrape this data?

`robots.txt`

-   User-agent: * = everybody
-   Search for name(s) of package(s) 
-   Search for specific pages
-   Check root of site (`/`) and your particular subfolder 
-   These aren't (necessarily) legally binding

::: notes
-   
:::

## How can I scrape tables of data? {-}

## Example 1: Single table {-}

(screenshot of table on page)

## How can I scrape a single table? {-}

(code demo of scraping a table)

## Example 2: Multiple tables {-}

(screenshot of tables on page)

## How can I choose a table? {-}

(code demo of scraping one of many tables)

## How can I scrape multiple tables? {-}

(purrr)

## How can I scrape more complex data? {-}

## What is SelectorGadget? {-}

-   ADD CONTENTS

## Example 3: Non-tabular data {-}

(screenshot of page with non-tabular data, possibly CSS selector rules)

## How can I use SelectorGadget? {-}

(record clicks? also show code where it goes)

## What are CSS selectors? {-}

-   (I continue to go back and forth about Xpath vs CSS Selectors. Xpath can traverse back up the tree, which I feel might be vital for some advanced examples; but then again maybe CSS `:has()` will be enough)

## SUBSECTION {-}

-   ADD CONTENTS

## SUBSECTION {-}

-   ADD CONTENTS

## SUBSECTION {-}

-   ADD CONTENTS

## Meeting Videos {-}

### Cohort 1 {-}

`r knitr::include_url("https://www.youtube.com/embed/URL")`

<details>
<summary> Meeting chat log </summary>

```
LOG
```
</details>
